---
printnanny_monitoring_service: printnanny-monitoring.service
# begin gstreamer vars
gstreamer_service_name: gstreamer.service

# begin honeycomb
# write-only event key
honeycomb_dataset: 'printnanny_os'
honeycomb_api_key: '22ffab0ec6af32b2be565bc831555e44'
# end honecomb

# begin janus vars
janus_admin_secret_file: '{{ printnanny_keys_dir }}/janus_admin_secret'
janus_token_file: '{{ printnanny_keys_dir }}/janus_token'

janus_service_name: janus.service
janus_service_unit_extra: |
  After={{ gstreamer_service_name }}
  PartOf={{ printnanny_monitoring_service }}

janus_user: janus
janus_groups:
  - printnanny
  - video


janus_admin_url: 'http://localhost:{{ janus_conf["janus.transport.http"]["admin_http_port"] }}{{ janus_conf["janus.transport.http"]["admin_base_path"] }}'
janus_url: 'http://localhost:{{ janus_conf["janus.transport.http"]["http_port"] }}{{ janus_conf["janus.transport.http"]["base_path"] }}'

janus_exec_start_post:
  - >-
    printnanny
    janus-admin
    --host {{ janus_admin_url }}
    add-token
    --token ${JANUS_TOKEN}
    --adminsecret ${JANUS_ADMIN_SECRET}

janus_ssl_enabled: true
janus_ssl_cert: '{{ printnanny_ssl_cert }}'
janus_ssl_key: '{{ printnanny_ssl_key }}'

# updater service defined in updater vars section below
janus_updater: printnanny-update-janus
# end janus vars
