---
# handlers file for setup

- name: systemctl daemon-reload
  become: true
  ansible.builtin.systemd:
    daemon_reload: true
    no_block: true

- name: restart printnanny-monitor
  become: true
  ansible.builtin.systemd:
    daemon_reload: true
    name: printnanny-monitor
    no_block: true
    state: restarted
    enabled: true

- name: restart janus
  become: true
  ansible.builtin.systemd:
    daemon_reload: true
    name: janus
    no_block: true
    state: restarted
    enabled: true

- name: restart mqtt
  become: true
  ansible.builtin.systemd:
    daemon_reload: true
    name: mqtt
    no_block: true
    state: restarted
    enabled: true
  when: license_json.stat.exists

- name: restart printnanny-dash
  become: true
  ansible.builtin.systemd:
    daemon_reload: true
    name: printnanny-dash
    no_block: true
    state: restarted
    enabled: true
